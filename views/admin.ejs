<%- include('partials/side-nav'); -%>


  <div class="side-nav-content p-3">
    <div id='dd' class="scheduled mb-3" style="justify-content: space-between;">
      <p></p>
      <div class="theme-heading top-welcome" style="padding-top: 0%; padding-bottom: 1%;">Welcome</div>
      <p></p>
    </div>

    <div class="content">
      <h4 class="theme-heading text-center mb-5">Details of Admin and Workers</h4>
      <div class="container">
        <div class="scheduled container">
          <a class="waves-effect waves-light btn modal-trigger btn-primary btn m-3" href="#allTeachers">All Admins</a>
          <div id="allTeachers" class="modal">
            <div class="modal-footer">
              <h4 class="theme-heading text-center" style="margin: auto;">All Admins</h4>
              <a href="#!" class="modal-close waves-effect waves-green btn-flat"><i
                  class="fas fa-times red-text"></i></a>
            </div>
            <div class="modal-content">
              <%admins.forEach((x)=>{%>
                <% if(x.role=="admin" ){ %>
                  <div class="scheduled mb-3">
                    <p style="width: 45%;"><b>Name:</b>
                      <%=x.name%>
                    </p>
                    <p style="width: 45%;"><b>Email:</b>
                      <%=x.email%>
                    </p>
                  </div>
                  <% } %>
                    <%})%>
            </div>
          </div>
          <a class="waves-effect waves-light btn modal-trigger btn-primary btn m-3" href="#allStudents">All Workers</a>
          <div id="allStudents" class="modal">
            <div class="modal-footer">
              <h4 class="theme-heading text-center" style="margin: auto;">All Workers</h4>
              <a href="#!" class="modal-close waves-effect waves-green btn-flat"><i
                  class="fas fa-times red-text"></i></a>
            </div>
            <div class="modal-content">
              <%workers.forEach((x)=>{%>
                <% if(x.role=="worker" ){ %>
                  <div class="scheduled mb-3">
                    <p style="width: 45%;"><b>Name:</b>
                      <%=x.name%>
                    </p>
                    <p style="width: 45%;"><b>Email:</b>
                      <%=x.email%>
                    </p>
                    <b><a class="red-text" href="/superuser/worker/remove/<%=x.id%>">Remove</a></b>
                  </div>
                  <% } %>
                    <%})%>
            </div>
          </div>
        </div>
        <div class="seperator mt-5 "></div>
      </div>
      <section class="discussion">
        <div class="card-container" id="aT">
          <div class="each-card text-center">
            <div class="col s12 m6">
              <div class="card" style="background-color: #3b3838 !important;">
                <div class="card-content white-text">
                  <h2>Schedule a Discussion</h2>
                  <div class="frm-icn" style="background-color: #3b3838 !important;">
                    <div style="width: 60%;"> <img src="images/pic3.jpg" alt="">
                    </div>
                  </div>
                  <form action="/teacher/discussion/add" method="POST">
                    <div class="form-group white-text">
                      <div class="input-field col s6">
                        <input type="text" name="discussion[admin]" value="<%=currentUser.name%>" class="white-text"
                          style="border-color: white;" readonly />

                        <label for="last_name" class="white-text" style="pointer-events: none;">Name:</label>
                      </div>
                      <div class="input-field col s6">
                        <input type="text" name="discussion[email]" value="<%=currentUser.email%>" class="white-text"
                          style="border-color: white;" readonly />
                        <label for="last_name" class="white-text" style="pointer-events: none;">Email:</label>
                      </div>
                      <div class="input-field col s6">
                        <input type="text" name="discussion[roomId]"
                          placeholder="Create you personalised Room for discussion" class="validator white-text"
                          style="border-color: white;" required />
                        <label class="white-text" style="pointer-events: none;">RoomId</label><br />
                      </div>
                      <label for="meeting" class="white-text" style="font-size: 1.4rem;">Date and Time</label>

                      <div class="input-field col s6">
                        <input type="datetime-local" id="birthdaytime" class="validator white-text"
                          style="border-color: white;" name="discussion[scheduledTime]" required>
                      </div>
                      <button type="submit" class="btn btn-primary white darken-1" style="color: #07031a;">
                        Submit!
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    </section>
    <section class="addStudent">
      <div class="card-container">
        <div class="each-card text-center" id="aS">
          <div class="col s12 m6">
            <div class="card" style="background-color: #3b6978 !important;">
              <div class="card-content white-text">
                <h2>Add Workers</h2>
                <div class="frm-icn" style="background-color: #3b6978;">
                  <i class="fas fa-user-graduate"></i>
                </div>
                <form action="/superuser/worker/add" method="POST">
                  <div class="form-group white-text">
                    <div class="input-field col s6">
                      <input id="last_name" type="text" class="validate white-text" style="border-color: white;"
                        name="mains[name]" required />
                      <label for="last_name" class="white-text" style="pointer-events: none;">Name:</label>
                    </div>
                    <div class="input-field col s6">
                      <input id="last_name" type="text" class="validate white-text" style="border-color: white;"
                        name="mains[email]" required />
                      <label for="last_name" class="white-text" style="pointer-events: none;">Email:</label>
                    </div>
                    <button class="btn btn-primary white darken-1" style="color: #07031a;">
                      Submit!
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="seperator mt-5 "></div>
    </section>

    <section class="dashboard">
      <div class="svg-T">
        <!-- <img src="images/pic3.jpg" alt=""> -->
        <img src="images/pp.jpg" alt="">
      </div>

  </div>
  </div>
  <script>
    var teacherNav = document.querySelectorAll('#teacher-nav');
    teacherNav.forEach((teacherNav) => {
      teacherNav.innerHTML = '';
      const navLinks = `<a id="dshbrd" href="#" onclick="dashboard()"
        ><i class="fas fa-desktop"></i><span>Dashboard</span></a
      >
      <a class="hme" href="#" onclick="discussion()"
        ><i class="fas fa-th" href="#"></i><span>Data Analysis</span></a
      >
      <a href="#" onclick="addStudent()"
    ><i class="fas fa-user-graduate"></i><span>Add Worker</span></a
  >
      <a class="homie" href="#" ><i class="fas fa-info-circle"></i><span>Home</span></a>
      <a href="#"><i class="fas fa-sliders-h"></i><span>Settings</span></a>`;
      teacherNav.innerHTML = navLinks;
    });
    document.querySelectorAll('.hme').forEach(link => link.href = "/graphs");
    document.querySelectorAll('.homie').forEach(link => link.href = "/admin");
    function showTime() {
      var i = 0;
      document.querySelectorAll("#dd p").forEach(d => {
        if (i === 0) {
          d.textContent = "Date: " + moment(Date.now()).format('Do-MM-YYYY');
          i = 1
        }
        else { d.textContent = "Time: " + moment(Date.now()).format('hh.mm.ss a'); i = 0; }
      });
    }
    setInterval(showTime, 1);
  </script>
  <script>
    function dateFunction(e) {
      var date = e.target.value;
      console.log(date)
    }
    function submitForm(e) {
      var date = e.target;
      console.log(date);
    }
    function timeFunction(e) {
      var time = e.target.value;
      console.log(time)
    }
    var popup = document.querySelectorAll('.modal');
    var instances = M.Modal.init(popup);
    $('#description').val('');
    M.textareaAutoResize($('#description'));
  </script>

  <script>
    if (window.performance) {
    }
    if (performance.navigation.type == performance.navigation.TYPE_RELOAD) {
      location.href = 'http://localhost:3000/admin?f=1';
    } else {
    }
  </script>
  <%- include('partials/footer'); -%>